"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9202],{9202:(K,u,a)=>{a.r(u),a.d(u,{ProjectsPageModule:()=>H});var d=a(177),x=a(4341),l=a(7604),h=a(2146),f=a(467),j=a(7726),I=a(7684),e=a(4438),b=a(1754),P=a(7066),g=a(9381);const w=["timelineItem"],y=s=>({collapse:s}),k=s=>({highlight:s}),S=()=>({background:"#2196F3",color:"#fff"}),T=()=>({}),D=(s,r,i)=>({highlight:s,flipped:r,"item-drag":i}),C=(s,r)=>({width:s,margin:r}),G=s=>({onDrop:s}),F=s=>({background:s,color:"#fff"});function B(s,r){if(1&s){const i=e.RV6();e.j41(0,"ion-col",15)(1,"ion-card",16),e.bIt("cdkDragStarted",function(t){const n=e.eBV(i).$implicit,c=e.XpG(2);return e.Njj(c.onDragStart(t,n))})("cdkDragEnded",function(t){const n=e.eBV(i).$implicit,c=e.XpG(2);return e.Njj(c.onDragOver(t,n))}),e.j41(2,"div",17),e.nrm(3,"div",18),e.j41(4,"div",19),e.EFF(5),e.k0s()(),e.j41(6,"div",20),e.bIt("click",function(){const t=e.eBV(i).$implicit,n=e.XpG(2);return e.Njj(n.openDetail(t))}),e.nrm(7,"ion-img",21),e.j41(8,"div"),e.EFF(9,"View more"),e.k0s()()()()}if(2&s){const i=r.$implicit,o=r.index,t=e.XpG(2);e.R7$(),e.Y8G("ngStyle",null!=i&&i.isCompleted?e.lJ4(3,S):e.lJ4(4,T))("ngClass",e.sMw(5,D,!t.speechStop&&1==t.count,!t.speechStop&&1==t.count,!t.speechStop&&3==t.count&&0==o)),e.R7$(4),e.SpI(" ",null==i?null:i.title," ")}}function O(s,r){if(1&s&&(e.j41(0,"ion-row",13),e.DNE(1,B,10,9,"ion-col",14),e.k0s()),2&s){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.timelineItems)}}function R(s,r){1&s&&(e.j41(0,"div")(1,"div",22),e.EFF(2," Congratulations "),e.k0s(),e.j41(3,"div",23),e.EFF(4," You sorted all given Improvement projects "),e.k0s(),e.j41(5,"div",24),e.nrm(6,"ion-img",25)(7,"ion-img",25),e.k0s(),e.j41(8,"div",26),e.nrm(9,"ion-img",27)(10,"ion-img",28),e.k0s()())}function $(s,r){1&s&&(e.j41(0,"div",29),e.nrm(1,"ion-img",30),e.k0s())}function E(s,r){if(1&s&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&s){const i=e.XpG().$implicit,o=e.XpG();e.R7$(),e.JRh(null==o.droppedItems[i]?null:o.droppedItems[i].title)}}function X(s,r){1&s&&(e.j41(0,"span"),e.EFF(1,"Drop here"),e.k0s())}function Y(s,r){1&s&&e.nrm(0,"ion-img",38)}function M(s,r){if(1&s&&(e.j41(0,"div")(1,"div",36),e.DNE(2,X,2,0,"span",7)(3,Y,1,0,"ion-img",37),e.k0s()()),2&s){const i=e.XpG().$implicit,o=e.XpG();e.R7$(2),e.Y8G("ngIf",i==o.completed),e.R7$(),e.Y8G("ngIf",i!==o.completed)}}function A(s,r){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"div",31)(2,"div",32),e.EFF(3),e.k0s(),e.j41(4,"div",33),e.bIt("cdkDropListDropped",function(t){const n=e.eBV(i).$implicit,c=e.XpG();return e.Njj(c.drop2(t,n))}),e.DNE(5,E,2,1,"div",34)(6,M,4,2,"div",7),e.k0s()()()}if(2&s){const i=r.$implicit,o=e.XpG();e.R7$(),e.Y8G("ngStyle",e.l_i(8,C,0==i?"100%":null==o.widthList[i]?null:o.widthList[i].width,0==i?"0":null==o.widthList[i]?null:o.widthList[i].margin))("ngClass",e.eq3(11,G,null==o.droppedItems[i]?null:o.droppedItems[i].showDropAnimation)),e.R7$(),e.Y8G("ngStyle",o.getStyles(i))("ngStyle",e.eq3(13,F,null!=o.droppedItems[i]&&o.droppedItems[i].title?o.colors[i]:"")),e.R7$(),e.SpI(" ",i+1," "),e.R7$(),e.Y8G("ngStyle",o.getStyles(i)),e.R7$(),e.Y8G("ngIf",null==o.droppedItems[i]?null:o.droppedItems[i].title),e.R7$(),e.Y8G("ngIf",!(null!=o.droppedItems[i]&&o.droppedItems[i].title))}}function V(s,r){if(1&s){const i=e.RV6();e.j41(0,"div",29)(1,"ion-button",39),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goBack())}),e.nrm(2,"ion-icon",40),e.EFF(3," Domains page "),e.k0s()()}}function N(s,r){if(1&s){const i=e.RV6();e.j41(0,"app-avatar",41),e.bIt("completed",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.speechOver())})("resumeSpeech",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.resumeSpeech())})("stopSpeech",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.stopSpeech())}),e.k0s()}if(2&s){const i=e.XpG();e.Y8G("speechText",i.speechText)}}function z(s,r){if(1&s){const i=e.RV6();e.j41(0,"app-avatar",41),e.bIt("completed",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.speechOver())})("resumeSpeech",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.resumeSpeech())})("stopSpeech",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.stopSpeech())}),e.k0s()}}const L=[{path:"",component:(()=>{class s{constructor(i,o,t,n,c){this.router=i,this.utils=o,this.routerParam=t,this.location=n,this.modalController=c,this.texts=["Here you can see the improvement projects of the selected domain.","Well!, on the left side of the screen, you'll see a list of improvement projects. These projects are not in any specific order","On the right side of the screen, there are empty blocks. These are the places where you need to drop the projects","You have to drag a project from the left side and drop it into the correct block on the right side","By doing like this you can re-arrange the improvment project order, to complete this level."],this.colors=["#D32F2F","#3D5AFE","#37474F","#00BCD4","#FDD835","#FF6F00","#FF3D00","#D32F2F","#3D5AFE","#37474F","#0D47A1","#1E88E5","#00B8D4","#AEEA00","#D500F9","#009688","#388E3C","#0288D1"],this.widthList=[],this.result=[{id:1},{id:11},{id:112},{id:113}],this.showSpeechBubble=!1,this.showHintOption=!1,this.speechStop=!1,this.speechText="",this.categories=j.L,this.timelineItems=[],this.subCategoryIndex=0,this.categoryId=0,this.attempts=0,this.completed=0,this.count=0,this.showDropAnimation=!1,this.visited=!1,this.isAvatarHide=!1,this.showWrong=!1,this.progress=0,this.droppedItems=[],this.routerParam.params.subscribe(m=>{this.categoryId=parseInt(m.id),this.initializeCategory()}),this.routerParam.queryParams.subscribe(m=>{this.subCategoryIndex=m.subDomain}),o.completedEvent.subscribe(m=>{this.categories.forEach(_=>{if(_?.improvements?.projects){let v=_.improvements.projects.find(J=>J.id==m.id);v&&(v.status="completed")}})})}ngOnInit(){}initializeCategory(){this.visited=!!localStorage.getItem("page3");const i=this.categories[this.categoryId];i?.subDomain?.length||(this.timelineItems=[...i?.improvements?.projects],this.result=i?.improvements?.result?.slice().reverse()??[],this.visited?(this.completed=0,this.count=this.texts.length+1):(this.completed=0,this.count=0,setTimeout(()=>{this.speechText=this.texts[this.count],this.showSpeechBubble=!0},100)),this.calculateWidthList())}onDragStart(i,o){o.isDragging=!0}onDragOver(i,o){o.isDragging=!1,this.draggingItem=o}speechOver(){if(this.visited||(this.showSpeechBubble=!1,this.count++,this.speechText=this.texts[this.count],setTimeout(()=>{this.showSpeechBubble=!0},0),this.count>=this.texts.length&&setTimeout(()=>{this.showSpeechBubble=!1},0)),localStorage.getItem("isAvatarVisible"),this.completed==this.result?.length&&console.log("127"),this.completed==this.result?.length)return this.speechText="You are now being redirected to the improvement projects domain list.",setTimeout(()=>{this.showSpeechBubble=!0},10),void setTimeout(()=>{this.location.back()},3e3)}ionViewWillEnter(){this.visited=!!localStorage.getItem("page3")}drop2(i,o){var t=this;return(0,f.A)(function*(){if(localStorage.setItem("page3","true"),t.count=t.texts.length+1,setTimeout(()=>{t.showSpeechBubble=!1},0),!t.timelineItems?.[i.previousIndex].isCompleted&&o==t.completed)if(t.result?.[t.result?.length-1-t.completed]?.id===t.draggingItem.id){if(t.droppedItems?.length){const p=t.droppedItems.length;t.droppedItems[p]=t.draggingItem,setTimeout(()=>{t.droppedItems[p]&&(t.droppedItems[p].showDropAnimation=!0,setTimeout(()=>{t.droppedItems[p].showDropAnimation=!1},2e3))},100)}else t.droppedItems[0]=t.draggingItem,t.droppedItems[0].showDropAnimation=!0,setTimeout(()=>{t.droppedItems[0].showDropAnimation=!1},2e3);const n=t.timelineItems.findIndex(p=>p===t.draggingItem);if(n>-1&&t.timelineItems.splice(n,1),t.draggingItem=null,t.completed++,t.completed==t.result?.length)return void(t.isAvatarHide?setTimeout(()=>{t.location.back()},100):(t.categories[t.categoryId].isCompleted=!0,t.speechText="Congratulation! you sorted the given improvement projects in correct order.",setTimeout(()=>{t.showSpeechBubble=!0},100)));let c=new Audio("./assets/onSuccess.mp3");c.load(),yield c.play(),t.speechText="Great! you placed in correct order. Keep moving on",setTimeout(()=>{t.showSpeechBubble=!0},300)}else{let n=new Audio("./assets/wrong.mp3");n.load(),yield n.play(),t.speechText="Ohhh! this is the not correct position for this improvement project",setTimeout(()=>{t.showSpeechBubble=!0},300)}})()}calculateWidthList(){let i=this.timelineItems.length+this.droppedItems.length;for(let o=0;o<i;o++)this.widthList.push({width:100-o*(100/i)+"%",margin:"0 "+o*(50/i)+"%"})}getReverseIndices(i){return Array.from({length:i},(o,t)=>i-1-t)}getStyles(i){const o={color:"#fff"};return i!==this.completed?o.background="#ccc":(o.background=this.colors[i],o.color="#fff"),this.droppedItems[i]?.title&&(o.background=this.colors[i]),o}goBack(){this.location.back()}stopSpeech(){this.showSpeechBubble=!1,this.count=this.texts.length+1,localStorage.setItem("page3","true"),this.isAvatarHide=!0,this.completed==this.result?.length&&setTimeout(()=>{this.location.back()},10)}resumeSpeech(){this.speechText||(this.count=0,this.speechText=this.texts[this.count]),this.isAvatarHide=!1,setTimeout(()=>{this.showSpeechBubble=!0},100)}openDetail(i){var o=this;return(0,f.A)(function*(){(yield o.modalController.create({component:I.W,componentProps:{data:i}})).present()})()}static#e=this.\u0275fac=function(o){return new(o||s)(e.rXU(h.Ix),e.rXU(b.T),e.rXU(h.nX),e.rXU(d.aZ),e.rXU(l.W3))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-projects"]],viewQuery:function(o,t){if(1&o&&e.GBs(w,5),2&o){let n;e.mGM(n=e.lsd())&&(t.timelineItemElements=n)}},decls:16,vars:13,consts:[[1,"bg"],[2,"display","flex","height","80px","padding","10px"],["name","arrow-back",1,"backIcon",3,"click"],[1,"text-deco","custom"],["cdkDropListGroup","",1,"container-card"],["size","12","size-lg","5.5",1,"left-class","ion-padding-end",2,"padding-right","15px",3,"ngClass"],["cdkDropList","","style","margin-right: 20px;",4,"ngIf"],[4,"ngIf"],["size","12","size-lg","5.5",1,"drop-area","right-list","ion-padding-start",2,"background-image","url(./assets/images/bg31.png)","background-size","cover","display","flex","flex-direction","column-reverse",3,"ngClass"],[2,"margin","20px"],["style","display: flex; justify-content: center;",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"speechText","completed","resumeSpeech","stopSpeech",4,"ngIf"],["cdkDropList","",2,"margin-right","20px"],["size","12",4,"ngFor","ngForOf"],["size","12"],["cdkDrag","",1,"card-css",2,"display","flex","height","auto","min-height","100px",3,"cdkDragStarted","cdkDragEnded","ngStyle","ngClass"],[2,"width","90%","display","flex","align-items","center"],[1,"shine"],[2,"width","93%","text-align","center","color","darkgoldenrod","text-shadow","1px 2px #000"],[1,"bottom-label",2,"width","10%",3,"click"],["src","./assets/images/more.png",2,"width","60px"],[1,"congrats-text","purples"],[1,"congrats-text","purples",2,"top","12rem","font-size","36px","text-align","center"],[2,"display","flex","justify-content","space-between"],["src","./assets/images/firework.gif",2,"width","207px","position","relative","top","39px"],[2,"display","flex","justify-content","space-between","margin-top","100px"],["src","./assets/images/childrenCelebration.gif",2,"transform","rotateY(180deg)"],["src","./assets/images/childrenCelebration.gif"],[2,"display","flex","justify-content","center"],["src","./assets/images/source.gif",1,"crown",2,"width","100px"],[2,"display","flex",3,"ngStyle","ngClass"],[2,"border","2px dashed rgb(204, 204, 204)","width","70px","margin","auto 0px","height","70px","text-align","center","padding-top","24px",3,"ngStyle"],["cdkDropList","",1,"drop-block",3,"cdkDropListDropped","ngStyle"],["class","dropped-item custom",4,"ngIf"],[1,"dropped-item","custom"],[1,"drop-placeholder"],["src","./assets/images/lock.png","style","width: 50px;",4,"ngIf"],["src","./assets/images/lock.png",2,"width","50px"],[2,"font-size","24px",3,"click"],["name","arrow-back"],[3,"completed","resumeSpeech","stopSpeech","speechText"]],template:function(o,t){1&o&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-icon",2),e.bIt("click",function(){return t.goBack()}),e.k0s(),e.j41(3,"h1",3),e.EFF(4," Sort the Improvement projects"),e.k0s()(),e.j41(5,"ion-row",4)(6,"ion-col",5),e.DNE(7,O,2,1,"ion-row",6)(8,R,11,0,"div",7),e.k0s(),e.j41(9,"ion-col",8)(10,"div",9),e.DNE(11,$,2,0,"div",10)(12,A,7,15,"div",11)(13,V,4,0,"div",10),e.k0s()()(),e.DNE(14,N,1,1,"app-avatar",12)(15,z,1,0,"app-avatar",12),e.k0s()),2&o&&(e.R7$(6),e.Y8G("ngClass",e.eq3(9,y,0===(null==t.timelineItems?null:t.timelineItems.length))),e.R7$(),e.Y8G("ngIf",null==t.timelineItems?null:t.timelineItems.length),e.R7$(),e.Y8G("ngIf",!(null!=t.timelineItems&&t.timelineItems.length)),e.R7$(),e.Y8G("ngClass",e.eq3(11,k,!t.speechStop&&2==t.count)),e.R7$(2),e.Y8G("ngIf",t.completed==(null==t.result?null:t.result.length)),e.R7$(),e.Y8G("ngForOf",t.getReverseIndices(t.result.length)),e.R7$(),e.Y8G("ngIf",!(null!=t.timelineItems&&t.timelineItems.length)),e.R7$(),e.Y8G("ngIf",t.showSpeechBubble),e.R7$(),e.Y8G("ngIf",!t.showSpeechBubble))},dependencies:[d.YU,d.Sq,d.bT,d.B3,l.Jm,l.b_,l.hU,l.W9,l.iq,l.KW,l.ln,P.f,g.O7,g.RK,g.T1],styles:[".right-list[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;display:flex;overflow:auto}.drop-block[_ngcontent-%COMP%]{width:100%;border:2px dashed #ccc;display:flex;align-items:center;justify-content:center;background:#fff;color:#000;margin:3px;min-height:70px;max-height:70px;animation:moveBackground 3s infinite linear;background-size:200% 100%}.dropped-item[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;white-space:normal}.crown[_ngcontent-%COMP%]{position:relative;transform:translate(-50%,-50%) scale(0);animation:_ngcontent-%COMP%_zoom-out .7s forwards,crown-animation .3s infinite alternate .5s}@keyframes _ngcontent-%COMP%_zoom-out{0%{transform:translate(-50%,-50%) scale(80)}to{transform:translate(-50%,-50%) scale(0)}}@keyframes _ngcontent-%COMP%_crown-animation{0%{transform:rotate(-10deg)}to{transform:rotate(10deg)}}.collapse[_ngcontent-%COMP%]{width:0;animation:_ngcontent-%COMP%_collapse 1s ease-in-out forwards}@keyframes _ngcontent-%COMP%_collapse{0%{width:100%}to{width:0}}.card-css[_ngcontent-%COMP%]{backface-visibility:hidden;position:relative}@keyframes _ngcontent-%COMP%_guide{0%{transform:translate(0)}25%{transform:translate(20%,50px)}35%{transform:translate(50%,100px)}50%{transform:translate(75%,100px)}75%{transform:translate(100%,200px)}90%{transform:translate(180%,200px)}to{transform:translate(150%,100px)}}.item-drag[_ngcontent-%COMP%]{z-index:999;cursor:url(handPoint.76c19c651f91e4c4.png),auto;animation:_ngcontent-%COMP%_guide 2s ease-in-out infinite,highlight-animation 2s infinite}.onDrop[_ngcontent-%COMP%]{outline-width:1px;outline-offset:0;outline-color:#79858bbf;outline-style:solid;animation:_ngcontent-%COMP%_animateOutline 3s ease infinite}@keyframes _ngcontent-%COMP%_animateOutline{0%{outline-width:1px;outline-offset:0;outline-color:#0082ce00}10%{outline-color:#ef6204bf}50%{outline-width:25px;outline-offset:0px;outline-color:#1d9fea00}to{outline-width:40px;outline-offset:0px;outline-color:#1bdd4900}}.bottom-label[_ngcontent-%COMP%]{position:absolute;bottom:0;top:0;right:0;background:#e2c0a7;width:100px!important;font-size:14px;height:auto;display:flex;justify-content:center;flex-direction:column;align-items:center}"]})}return s})()}];let W=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.$C({type:s});static#i=this.\u0275inj=e.G2t({imports:[h.iI.forChild(L),h.iI]})}return s})();var U=a(3887);let H=(()=>{class s{static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275mod=e.$C({type:s});static#i=this.\u0275inj=e.G2t({imports:[d.MD,x.YN,l.bv,W,U.G,g.ad]})}return s})()}}]);
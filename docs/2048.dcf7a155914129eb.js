"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2048],{2048:(E,g,a)=>{a.r(g),a.d(g,{ActivitiesPageModule:()=>Y});var m=a(177),v=a(4341),o=a(7604),u=a(2146),b=a(467),t=a(4438),x=a(3656);function y(e,c){if(1&e&&t.nrm(0,"ion-img",8),2&e){const n=t.XpG();t.FS9("src",null==n.item?null:n.item.inprogressImage)}}function _(e,c){1&e&&(t.j41(0,"div",9),t.EFF(1,"\nActivity going on... "),t.k0s())}function C(e,c){if(1&e&&t.nrm(0,"ion-img",10),2&e){const n=t.XpG();t.FS9("src",null==n.item?null:n.item.completedImage)}}function I(e,c){if(1&e){const n=t.RV6();t.j41(0,"ion-button",11),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.complete())}),t.EFF(1," Mark as complete "),t.k0s()}}function k(e,c){if(1&e){const n=t.RV6();t.j41(0,"ion-button",11),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.dismiss())}),t.EFF(1," Done "),t.k0s()}}let P=(()=>{class e{constructor(n,i){this.modalController=n,this.navParams=i}dismiss(){this.modalController.dismiss()}ngOnInit(){this.item=this.navParams.get("item"),this.item.status="notstarted"==this.item.status?"inprogress":this.item.status}complete(){this.item.status="completed"}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(o.W3),t.rXU(x.y8))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-activity"]],decls:12,vars:5,consts:[["color","primary"],["slot","end"],[3,"click"],[1,"bg"],["style","margin: 10% 10px 10px 10px;\nborder-radius: 16px;\nwidth: 94%;",3,"src",4,"ngIf"],["style","text-align: center; height: 100px; margin-top: 40px;",4,"ngIf"],["style","margin: 10px 10px 10px 10px;\nborder-radius: 16px;\nwidth: 94%;",3,"src",4,"ngIf"],["size","block",3,"click",4,"ngIf"],[2,"margin","10% 10px 10px 10px","border-radius","16px","width","94%",3,"src"],[2,"text-align","center","height","100px","margin-top","40px"],[2,"margin","10px 10px 10px 10px","border-radius","16px","width","94%",3,"src"],["size","block",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),t.bIt("click",function(){return s.dismiss()}),t.EFF(4,"Close"),t.k0s()()()(),t.j41(5,"ion-content",3),t.DNE(6,y,1,1,"ion-img",4)(7,_,2,0,"div",5)(8,C,1,1,"ion-img",6),t.k0s(),t.j41(9,"ion-footer"),t.DNE(10,I,2,0,"ion-button",7)(11,k,2,0,"ion-button",7),t.k0s()),2&i&&(t.R7$(6),t.Y8G("ngIf","completed"!=(null==s.item?null:s.item.status)),t.R7$(),t.Y8G("ngIf","completed"!=(null==s.item?null:s.item.status)),t.R7$(),t.Y8G("ngIf","completed"==(null==s.item?null:s.item.status)),t.R7$(2),t.Y8G("ngIf","completed"!=(null==s.item?null:s.item.status)),t.R7$(),t.Y8G("ngIf","completed"==(null==s.item?null:s.item.status)))},dependencies:[m.bT,o.Jm,o.QW,o.W9,o.M0,o.eU,o.KW,o.ai]})}return e})();var j=a(7726),T=a(1754),f=a(7066);let A=(()=>{class e{constructor(){this.title="Congratulations",this.message="You have completed the Improvement project",this.speechtext="Congratulations, You have completed the Improvement project"}ngOnInit(){setTimeout(()=>{this.speechtext="Tap on the below button to continue"},6e3)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-celebration"]],inputs:{title:"title",message:"message"},decls:9,vars:3,consts:[[1,"celebration"],["src","../../assets/images/background1.gif"],[2,"width","100%"],[1,"celebration-text"],[1,"title"],[1,"sub-title"],[3,"speechText"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.nrm(1,"ion-img",1),t.j41(2,"div",2)(3,"div",3)(4,"div",4),t.EFF(5),t.k0s(),t.j41(6,"div",5),t.EFF(7),t.k0s()()(),t.nrm(8,"app-avatar",6),t.k0s()),2&i&&(t.R7$(5),t.JRh(s.title),t.R7$(2),t.JRh(s.message),t.R7$(),t.Y8G("speechText",s.speechtext))},dependencies:[o.KW,f.f],styles:[".celebration[_ngcontent-%COMP%]{width:100%;position:absolute;height:auto;top:0;bottom:0;background:#bbe1dc5c;z-index:9}.title[_ngcontent-%COMP%]{color:#f40849;font-size:52px;position:relative;text-align:center;display:flex;justify-content:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn 2s ease-in forwards}.sub-title[_ngcontent-%COMP%]{color:#f40849;font-size:38px;position:relative;text-align:center;display:flex;justify-content:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn 3s ease-in forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.celebration-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 2s ease-in forwards;position:absolute;top:35%;background:#b3ada89e;padding:15px;color:#fff!important;border-radius:10px;margin:7px 7px 7px 25%}"]})}return e})();const F=(e,c,n)=>({"inprogress-border":e,"completed-border":c,highlight:n});function M(e,c){1&e&&t.nrm(0,"ion-icon",13)}function G(e,c){if(1&e){const n=t.RV6();t.j41(0,"ion-card",9),t.bIt("click",function(){const s=t.eBV(n).$implicit,l=t.XpG();return t.Njj(l.presentModal(s))}),t.j41(1,"ion-card-title",10)(2,"div",11),t.EFF(3),t.k0s(),t.DNE(4,M,1,0,"ion-icon",12),t.k0s()()}if(2&e){const n=c.$implicit;t.Y8G("ngClass",t.sMw(3,F,"inprogress"==n.status,"completed"==n.status,n.highlight)),t.R7$(3),t.SpI(" ",n.title," "),t.R7$(),t.Y8G("ngIf","completed"===(null==n?null:n.status))}}function R(e,c){1&e&&(t.j41(0,"div"),t.nrm(1,"app-celebration"),t.k0s())}const O=[{path:"",component:(()=>{class e{constructor(n,i,s){this.modalController=n,this.routerParams=i,this.utilService=s,this.categories=j.L,this.showCongrats=!1,this.activities=[],this.subCategoryIndex="",i.params.subscribe(l=>{this.routerParams.queryParams.subscribe(r=>{this.subCategoryIndex=r.subDomain}),this.categories.forEach(r=>{if(this.subCategoryIndex&&r.subDomain?.length){let d=r?.subDomain.find(h=>h.id==this.subCategoryIndex)?.improvements?.projects.find(h=>h.id==l.id);d&&(this.selectedImp=d,this.activities=d.activites,this.selectedImp.status="notstarted"==this.selectedImp.status?"inprogress":this.selectedImp.status,this.udateHighLight())}else if(r?.improvements?.projects){let p=r?.improvements.projects.find(d=>d.id==l.id);p&&(this.selectedImp=p,this.activities=p.activites,this.selectedImp.status="notstarted"==this.selectedImp.status?"inprogress":this.selectedImp.status,this.udateHighLight())}})}),this.speechText="This is are the Activities, Please click on each activity to start, and completing these activities will help you to complete selected Improvement project"}presentModal(n){var i=this;return(0,b.A)(function*(){if(!n?.highlight||"completed"===n?.status)return;const s=yield i.modalController.create({component:P,componentProps:{item:n}});return s.onDidDismiss().then(l=>{i.activities.filter(p=>"completed"===p.status).length===i.activities.length&&(i.showCongrats=!0,i.selectedImp.status="completed",i.utilService.projectCompleted(i.selectedImp),i.speechText="Congratulations!!!, you have completed all the activities and you completed Improvement project"),i.udateHighLight()}),yield s.present()})()}ngOnInit(){}ionViewWillEnter(){}udateHighLight(){this.activities.filter(i=>"notstarted"===i.status).length===this.activities.length?this.activities[0].highlight=!0:this.activities.find(i=>"inprogress"===i.status||"notstarted"===i.status?(i.highlight=!0,!0):(i.highlight=!1,!1))}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(o.W3),t.rXU(u.nX),t.rXU(T.T))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-activities"]],decls:10,vars:5,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/"],[1,"bg",3,"fullscreen"],[2,"text-align","center"],["style","  padding: 15px;",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"speechText"],[2,"padding","15px",3,"click","ngClass"],[2,"position","relative"],[2,"width","90%","font-size","16px"],["name","checkmark-circle","role","img","class","md hydrated","style","\n    position: absolute;\n    top: -15px;\n    right: -15px;\n    font-size: 40px;\n    color: green;\n",4,"ngIf"],["name","checkmark-circle","role","img",1,"md","hydrated",2,"position","absolute","top","-15px","right","-15px","font-size","40px","color","green"]],template:function(i,s){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t.nrm(3,"ion-back-button",3),t.k0s()()(),t.j41(4,"ion-content",4)(5,"h2",5),t.EFF(6," Activities"),t.k0s(),t.DNE(7,G,5,7,"ion-card",6)(8,R,2,0,"div",7),t.nrm(9,"app-avatar",8),t.k0s()),2&i&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(3),t.Y8G("ngForOf",s.activities),t.R7$(),t.Y8G("ngIf",s.showCongrats),t.R7$(),t.Y8G("speechText",s.speechText))},dependencies:[m.YU,m.Sq,m.bT,o.QW,o.b_,o.tN,o.W9,o.eU,o.iq,o.ai,o.el,A,f.f],styles:[".highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shadowPulse 1s infinite;color:#000!important}@keyframes _ngcontent-%COMP%_shadowPulse{0%{box-shadow:0 0 10px #ffd70080}50%{box-shadow:0 0 20px 5px #ffd700b3}to{box-shadow:0 0 10px #ffd70080}}.non-highlight[_ngcontent-%COMP%]{color:#ccc}.inprogress-border[_ngcontent-%COMP%]{border:1px solid orange}.completed-border[_ngcontent-%COMP%]{border:1px solid green}"]})}return e})()}];let $=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#i=this.\u0275inj=t.G2t({imports:[u.iI.forChild(O),u.iI]})}return e})();var w=a(3887);let Y=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#i=this.\u0275inj=t.G2t({imports:[m.MD,v.YN,o.bv,$,w.G]})}return e})()}}]);
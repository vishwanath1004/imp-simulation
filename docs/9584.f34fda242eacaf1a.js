"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9584],{9584:(D,d,a)=>{a.r(d),a.d(d,{FolderPageModule:()=>B});var p=a(177),f=a(4341),i=a(7604),m=a(2146),_=a(467),e=a(4438),b=a(7726),u=a(7066);function v(o,r){if(1&o){const t=e.RV6();e.j41(0,"ion-card",7),e.bIt("click",function(){const s=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.onSelect(null==s?null:s.id))}),e.j41(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()()()}if(2&o){const t=r.$implicit;e.R7$(3),e.JRh(null==t?null:t.title)}}function C(o,r){if(1&o&&e.nrm(0,"app-avatar",8),2&o){const t=e.XpG();e.Y8G("speechText",t.speechText)}}let x=(()=>{class o{constructor(t){this.modal=t,this.data=[],this.speechText="Please select one sub-domain to see the improvement projects",this.showSpeechBubble=!1}dismiss(){this.modal.dismiss()}ionViewWillEnter(){setTimeout(()=>{this.showSpeechBubble=!0},100)}onSelect(t){this.modal.dismiss(t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(i.W3))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-sub-domain"]],inputs:{data:"data"},decls:11,vars:2,consts:[["color","primary"],["slot","end"],[3,"click"],[1,"bg"],[1,"subDomain"],["class","cat-card",3,"click",4,"ngFor","ngForOf"],[3,"speechText",4,"ngIf"],[1,"cat-card",3,"click"],[3,"speechText"]],template:function(n,s){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar",0),e.nrm(2,"ion-title"),e.j41(3,"ion-buttons",1)(4,"ion-button",2),e.bIt("click",function(){return s.dismiss()}),e.EFF(5,"Close"),e.k0s()()()(),e.j41(6,"ion-content",3)(7,"h4",4),e.EFF(8,"Please select sub domain"),e.k0s(),e.DNE(9,v,4,1,"ion-card",5)(10,C,1,1,"app-avatar",6),e.k0s()),2&n&&(e.R7$(9),e.Y8G("ngForOf",s.data),e.R7$(),e.Y8G("ngIf",s.showSpeechBubble))},dependencies:[p.Sq,p.bT,i.Jm,i.QW,i.b_,i.ME,i.tN,i.W9,i.eU,i.BC,i.ai,u.f],styles:[".cat-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003;transition:box-shadow .3s ease-in-out;background-color:#2979ff;cursor:pointer}.subDomain[_ngcontent-%COMP%]{color:#000;margin:15px;background:#ffffff91;padding:10px;border-radius:8px}"]})}return o})();var h=a(9969),y=a(1754);const P=o=>({highlight:o}),S=o=>({zoomout:o});function T(o,r){1&o&&e.nrm(0,"ion-icon",20)}function O(o,r){if(1&o){const t=e.RV6();e.j41(0,"ion-col",15)(1,"ion-card",16),e.bIt("click",function(){const s=e.eBV(t).index,c=e.XpG();return e.Njj(c.navigateToProject(s))}),e.nrm(2,"div",17),e.j41(3,"ion-card-title",18),e.EFF(4),e.DNE(5,T,1,0,"ion-icon",19),e.k0s()()()}if(2&o){const t=r.$implicit,n=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(3,P,0==n.count&&!n.visited)),e.R7$(3),e.SpI(" ",null==t?null:t.title," "),e.R7$(),e.Y8G("ngIf",null==t?null:t.isCompleted)}}function k(o,r){if(1&o&&e.nrm(0,"ion-img",23),2&o){const t=r.$implicit,n=e.XpG(2);e.Y8G("src",null==t?null:t.src)("ngClass",e.eq3(2,S,n.zoomOut))}}function F(o,r){if(1&o&&(e.j41(0,"div",21),e.DNE(1,k,1,4,"ion-img",22),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.images)}}function M(o,r){if(1&o){const t=e.RV6();e.j41(0,"app-avatar",24),e.bIt("completed",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.talkOver())})("resumeSpeech",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.resumeSpeech())})("stopSpeech",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.stopSpeech())}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("speechText",t.speechText)}}function j(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"app-avatar",25),e.bIt("resumeSpeech",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.resumeSpeech())})("stopSpeech",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.stopSpeech())}),e.k0s()()}}const I=[{path:"",component:(()=>{class o{constructor(t,n,s,c,l){this.router=t,this.utils=n,this.modalController=s,this.location=c,this.renderer=l,this.activatedRoute=(0,e.WQX)(m.nX),this.images=Array(5).fill({src:"./assets/images/progress.gif"}),this.showSpeechBubble=!1,this.showProgress=!1,this.totalSteps=1,this.schoolImage="./assets/images/school/1.png",this.text=["On the left side of the screen, you can see the list of improvement project domains.","And on the right side, we have a school with poor infrastructure.","By sorting each domain's improvement projects, you can help us build the school.","Well now select the category to sort the improvement projects."],this.speechText="",this.count=0,this.cssClass="fade-in",this.categoriesCompleted=0,this.imagesPerCategory=0,this.visited=!1,this.zoomOut=!1,this.categories=b.L}talkOver(){this.showSpeechBubble=!1,this.count++,this.speechText=this.text[this.count],setTimeout(()=>{this.showSpeechBubble=!0},0),this.count>=this.text.length&&setTimeout(()=>{this.showSpeechBubble=!1,localStorage.setItem("page2","true")},0)}onSelect(t){"yes"===t&&this.talkOver()}ngOnInit(){this.visited=!!localStorage.getItem("page2"),this.folder=this.activatedRoute.snapshot.paramMap.get("id"),this.visited||(this.count=0,setTimeout(()=>{this.speechText=this.text[this.count],this.showSpeechBubble=!0},300))}ionViewWillEnter(){this.visited=!!localStorage.getItem("page2"),this.imagesPerCategory=Math.ceil(8/this.categories.length);const t=this.categories.filter(n=>n.isCompleted);t?.length?(this.speechText="Thanks for helping us to improve our school by sorting the improvement projects.",this.text=[],setTimeout(()=>{this.showSpeechBubble=!0},2e3),setTimeout(()=>{this.changeSchool(t)},2e3)):this.schoolImage="./assets/images/school/1.png"}navigateToProject(t){this.showSpeechBubble=!1,this.categories[t]?.subDomain?.length?this.showSubDomainModal(t,this.categories[t]?.subDomain):(localStorage.setItem("page2","true"),this.router.navigate(["/new",t]))}showSubDomainModal(t,n){var s=this;return(0,_.A)(function*(){const c=yield s.modalController.create({component:x,componentProps:{data:n}});yield c.present();const{data:l}=yield c.onDidDismiss();l&&s.router.navigate(["/new",t],{queryParams:{subDomain:l}})})()}changeSchool(t){this.categoriesCompleted++,this.showProgress=!0;for(let n=this.totalSteps;n<=this.imagesPerCategory*this.categoriesCompleted;n++)this.totalSteps++,setTimeout(()=>{const s=`./assets/images/school/${n}.png`;this.applyKeyframeAnimation(s,`./assets/images/school/${n+1}.png`,n),this.schoolImage=s},800*n);this.totalSteps>=this.imagesPerCategory*this.categoriesCompleted&&(setTimeout(()=>{this.zoomOut=!0},1e3),setTimeout(()=>{this.showProgress=!1,this.zoomOut=!1},1e3*this.totalSteps))}applyKeyframeAnimation(t,n,s){const c=`\n      @keyframes imageAnimation${s} {\n        0% {\n          background-image: url('${t}');\n        }\n        100% {\n          background-image: url('${n}');\n        }\n      }\n    `,l=this.renderer.createElement("style");l.type="text/css",l.innerHTML=c,this.renderer.appendChild(document.head,l);const g=`image-animation-${s}`;l.innerHTML+=`\n      .${g} {\n        animation: imageAnimation${s} 800ms ease-in-out;\n      }\n    `,this.renderer.addClass(document.querySelector(".styled-image"),g)}goBack(){this.location.back()}stopSpeech(){this.showSpeechBubble=!1,this.count=this.text.length+1,localStorage.setItem("page2","true")}resumeSpeech(){setTimeout(()=>{this.showSpeechBubble=!0,this.speechText||(this.speechText=this.text[this.count])},100)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(m.Ix),e.rXU(y.T),e.rXU(i.W3),e.rXU(p.aZ),e.rXU(e.sFG))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-folder"]],decls:19,vars:8,consts:[[1,"bg",3,"fullscreen"],[2,"display","flex","height","80px","padding","10px"],["name","arrow-back",2,"cursor","pointer","font-size","54px","border","1px solid var(--color-background)","border-radius","50%","padding","4px","color","var(--color-background)",3,"click"],[1,"text-deco","custom"],["collapse","condense"],["size","large"],[1,"container-card"],["size","5.5",1,"left-class"],[2,"margin-top","15%"],["size","12",4,"ngFor","ngForOf"],["size","5.5",2,"background-image","url(../../assets/images/bg31.png)","background-size","cover","background-color","var(--color-button-background)","justify-content","center","display","flex","border-radius","24px","flex-direction","column","align-items","center"],[1,"styled-image",2,"width","90%",3,"src"],["class","progress-container",4,"ngIf"],[3,"speechText","completed","resumeSpeech","stopSpeech",4,"ngIf"],[4,"ngIf"],["size","12"],[1,"card-css","flex-space-center",2,"margin-bottom","15px","height","auto",3,"click","ngClass"],[1,"shine"],[1,"text-deco","custom",2,"text-align","center"],["name","checkmark-circle-outline","style","font-size: 60px;",4,"ngIf"],["name","checkmark-circle-outline",2,"font-size","60px"],[1,"progress-container"],["class","progress-image",3,"src","ngClass",4,"ngFor","ngForOf"],[1,"progress-image",3,"src","ngClass"],[3,"completed","resumeSpeech","stopSpeech","speechText"],[3,"resumeSpeech","stopSpeech","speechText"]],template:function(n,s){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-icon",2),e.bIt("click",function(){return s.goBack()}),e.k0s(),e.j41(3,"h1",3),e.EFF(4," Improvement project domains"),e.k0s()(),e.j41(5,"ion-header",4)(6,"ion-toolbar")(7,"ion-title",5),e.EFF(8),e.k0s()()(),e.j41(9,"ion-row",6)(10,"ion-col",7)(11,"div",8)(12,"ion-row"),e.DNE(13,O,6,5,"ion-col",9),e.k0s()()(),e.j41(14,"ion-col",10),e.nrm(15,"ion-img",11),e.DNE(16,F,2,1,"div",12),e.k0s()(),e.DNE(17,M,1,1,"app-avatar",13)(18,j,2,0,"div",14),e.k0s()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(8),e.JRh(s.folder),e.R7$(5),e.Y8G("ngForOf",s.categories),e.R7$(2),e.Y8G("@fadeAnimation",void 0)("src",s.schoolImage),e.R7$(),e.Y8G("ngIf",s.showProgress),e.R7$(),e.Y8G("ngIf",s.showSpeechBubble),e.R7$(),e.Y8G("ngIf",!s.showSpeechBubble))},dependencies:[p.YU,p.Sq,p.bT,i.b_,i.tN,i.hU,i.W9,i.eU,i.iq,i.KW,i.ln,i.BC,i.ai,u.f],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.cat-card[_ngcontent-%COMP%]{height:100px;cursor:pointer}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut 3.5s forwards}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 4.5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}ion-img.styled-image[_ngcontent-%COMP%]{border-radius:24px;box-shadow:6px 4px 6px 4px #747272;overflow:hidden;transition:opacity 4.8s ease-in-out}@keyframes _ngcontent-%COMP%_zoomOut{0%{transform:scale(1);opacity:1}to{transform:scale(2);opacity:0}}.zoom-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomOut 2s forwards}.progress-container[_ngcontent-%COMP%]{width:90%;height:349px;position:absolute}.progress-image[_ngcontent-%COMP%]{position:absolute;width:150px}.progress-image[_ngcontent-%COMP%]:nth-child(1){top:0;left:0}.progress-image[_ngcontent-%COMP%]:nth-child(2){top:0;right:0}.progress-image[_ngcontent-%COMP%]:nth-child(3){top:20%;left:40%}.progress-image[_ngcontent-%COMP%]:nth-child(4){bottom:0;right:0}.progress-image[_ngcontent-%COMP%]:nth-child(5){bottom:0;left:0}.delay-0[_ngcontent-%COMP%]{animation-delay:0s}.delay-1[_ngcontent-%COMP%]{animation-delay:.5s}.delay-2[_ngcontent-%COMP%]{animation-delay:1s}.delay-3[_ngcontent-%COMP%]{animation-delay:1.5s}.delay-4[_ngcontent-%COMP%]{animation-delay:2s}"],data:{animation:[(0,h.hZ)("fadeAnimation",[(0,h.wk)("void",(0,h.iF)({opacity:0})),(0,h.wk)("*",(0,h.iF)({opacity:1})),(0,h.kY)("void <=> *",(0,h.i0)(500))])]}})}return o})()},{path:"welcome",loadChildren:()=>a.e(8152).then(a.bind(a,8152)).then(o=>o.WelcomePageModule)}];let w=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[m.iI.forChild(I),m.iI]})}return o})();var G=a(3887);let B=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[p.MD,f.YN,i.bv,G.G,w]})}return o})()}}]);